{"timestamp": "2025-11-12T21:06:25.663436", "level": "DEBUG", "name": "dictator.logging_setup", "message": "Logging initialized in logs\\run-20251112-210625"}
{"timestamp": "2025-11-12T21:06:25.663644", "level": "INFO", "name": "DictatorService", "message": "Logging initialized (run_dir=logs\\run-20251112-210625, structured=True)"}
{"timestamp": "2025-11-12T21:06:25.663831", "level": "DEBUG", "name": "DictatorService.ThreadMonitor", "message": "Thread monitor enabled (interval=30.0s)"}
{"timestamp": "2025-11-12T21:06:25.663984", "level": "DEBUG", "name": "DictatorService.ThreadMonitor", "message": "Starting thread monitor (interval=30.0s)"}
{"timestamp": "2025-11-12T21:06:25.694411", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udf99\ufe0f Dictator Service initializing..."}
{"timestamp": "2025-11-12T21:06:25.694579", "level": "INFO", "name": "DictatorService.ThreadMonitor", "message": "Thread snapshot: total=46, top=[{'id': 30432, 'name': 'MainThread', 'cpu_ms': 12093.75}, {'id': 13732, 'name': 'unknown', 'cpu_ms': 1593.75}, {'id': 34388, 'name': 'asyncio_0', 'cpu_ms': 734.38}, {'id': 35900, 'name': 'unknown', 'cpu_ms': 562.5}, {'id': 23272, 'name': 'unknown', 'cpu_ms': 562.5}]"}
{"timestamp": "2025-11-12T21:06:25.695316", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce6 Loading Whisper model 'large-v3' on cuda..."}
{"timestamp": "2025-11-12T21:06:25.695529", "level": "INFO", "name": "DictatorService", "message": "   Using faster-whisper with compute_type=float16"}
{"timestamp": "2025-11-12T21:06:25.696033", "level": "DEBUG", "name": "httpcore.connection", "message": "close.started"}
{"timestamp": "2025-11-12T21:06:25.696263", "level": "DEBUG", "name": "httpcore.connection", "message": "close.complete"}
{"timestamp": "2025-11-12T21:06:25.696420", "level": "DEBUG", "name": "httpcore.connection", "message": "connect_tcp.started host='huggingface.co' port=443 local_address=None timeout=None socket_options=None"}
{"timestamp": "2025-11-12T21:06:25.702510", "level": "DEBUG", "name": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002B4D4412450>"}
{"timestamp": "2025-11-12T21:06:25.702678", "level": "DEBUG", "name": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B4D2F6B070> server_hostname='huggingface.co' timeout=None"}
{"timestamp": "2025-11-12T21:06:25.709599", "level": "DEBUG", "name": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002B4D4411F50>"}
{"timestamp": "2025-11-12T21:06:25.709790", "level": "DEBUG", "name": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-12T21:06:25.710055", "level": "DEBUG", "name": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-12T21:06:25.710148", "level": "DEBUG", "name": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-12T21:06:25.710253", "level": "DEBUG", "name": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-12T21:06:25.710312", "level": "DEBUG", "name": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-12T21:06:25.845939", "level": "DEBUG", "name": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'4600'), (b'Connection', b'keep-alive'), (b'Date', b'Thu, 13 Nov 2025 00:06:25 GMT'), (b'ETag', b'W/\"11f8-OdbdQ9ef6Cr/xpj0m27tBd+pzac\"'), (b'X-Powered-By', b'huggingface-moon'), (b'X-Request-Id', b'Root=1-69152101-38e4d23d3a9df0cc74381547;5d51a594-533f-434b-9ec8-1e348b618f9d'), (b'RateLimit', b'\"api\";r=496;t=54'), (b'RateLimit-Policy', b'\"fixed window\";\"api\";q=500;w=300'), (b'cross-origin-opener-policy', b'same-origin'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Access-Control-Max-Age', b'86400'), (b'Access-Control-Allow-Origin', b'https://huggingface.co'), (b'Vary', b'Origin'), (b'Access-Control-Expose-Headers', b'X-Repo-Commit,X-Request-Id,X-Error-Code,X-Error-Message,X-Total-Count,ETag,Link,Accept-Ranges,Content-Range,X-Linked-Size,X-Linked-ETag,X-Xet-Hash'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 d8dc5b9cc653c7adcc3e58a56d490bf0.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'GIG52-P2'), (b'X-Amz-Cf-Id', b'5AQJTAt8PldBt2H9hs70n_mEVFOw-sBrB8yHhYFE8TZwy35mbUaAbw==')])"}
{"timestamp": "2025-11-12T21:06:25.846455", "level": "INFO", "name": "httpx", "message": "HTTP Request: GET https://huggingface.co/api/models/Systran/faster-whisper-large-v3/revision/main \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-12T21:06:25.846751", "level": "DEBUG", "name": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-12T21:06:25.846868", "level": "DEBUG", "name": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-12T21:06:25.847011", "level": "DEBUG", "name": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-12T21:06:25.847122", "level": "DEBUG", "name": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-12T21:06:26.127881", "level": "INFO", "name": "KokoroTTS", "message": "\u2705 Speech completed"}
{"timestamp": "2025-11-12T21:06:27.842451", "level": "INFO", "name": "DictatorService", "message": "\u2705 Model 'large-v3' loaded successfully on cuda!"}
{"timestamp": "2025-11-12T21:06:27.842834", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfae Using GPU: NVIDIA GeForce RTX 5080 (15.9 GB VRAM)"}
{"timestamp": "2025-11-12T21:06:27.843521", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 Loading TTS engine..."}
{"timestamp": "2025-11-12T21:06:27.843648", "level": "INFO", "name": "KokoroTTS", "message": "\ud83c\udfa4 Loading Kokoro TTS (model=kokoro-v1.0.onnx)..."}
{"timestamp": "2025-11-12T21:06:28.314312", "level": "INFO", "name": "KokoroTTS", "message": "\u2705 Kokoro TTS loaded successfully!"}
{"timestamp": "2025-11-12T21:06:28.314563", "level": "INFO", "name": "DictatorService", "message": "\u2705 TTS engine loaded successfully!"}
{"timestamp": "2025-11-12T21:06:28.315114", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Loading event-driven voice session..."}
{"timestamp": "2025-11-12T21:06:28.315216", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 VAD enabled: False"}
{"timestamp": "2025-11-12T21:06:28.315333", "level": "INFO", "name": "DictatorService", "message": "\ud83e\udd99 Using Ollama provider: qwen3:14b @ http://localhost:11434"}
{"timestamp": "2025-11-12T21:06:28.316051", "level": "DEBUG", "name": "asyncio", "message": "Using proactor: IocpProactor"}
{"timestamp": "2025-11-12T21:06:28.316627", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 Starting voice session (attempt 1/3)"}
{"timestamp": "2025-11-12T21:06:28.316802", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd17 Event loop configured for thread-safe publishing"}
{"timestamp": "2025-11-12T21:06:28.316924", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd04 Event processor started"}
{"timestamp": "2025-11-12T21:06:28.416551", "level": "INFO", "name": "DictatorService", "message": "\u2705 Event-driven voice session loaded - ZERO polling!"}
{"timestamp": "2025-11-12T21:06:28.417476", "level": "INFO", "name": "DictatorService", "message": "\ud83d\ude80 Dictator Service started"}
{"timestamp": "2025-11-12T21:06:28.417932", "level": "INFO", "name": "DictatorService", "message": "\ud83d\uddb1\ufe0f  Listening for mouse button: side1"}
{"timestamp": "2025-11-12T21:06:28.418122", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:28.420999", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:28.421741", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:28.446961", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:28.448580", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:28.462447", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:28.463129", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:28.477488", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:28.478129", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:28.480072", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:30.059774", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd34 Recording started..."}
{"timestamp": "2025-11-12T21:06:30.060028", "level": "INFO", "name": "DictatorService", "message": "\ud83e\uddf9 Cleared audio buffer"}
{"timestamp": "2025-11-12T21:06:30.123037", "level": "DEBUG", "name": "DictatorService", "message": "\ud83c\udfb5 Voice session started receiving audio chunks"}
{"timestamp": "2025-11-12T21:06:31.113247", "level": "DEBUG", "name": "DictatorService", "message": "\ud83d\udcca Buffer size: 16224 samples (1.01s)"}
{"timestamp": "2025-11-12T21:06:31.143173", "level": "INFO", "name": "DictatorService", "message": "\u2705 Voice session healthy, processing audio"}
{"timestamp": "2025-11-12T21:06:32.103377", "level": "DEBUG", "name": "DictatorService", "message": "\ud83d\udcca Buffer size: 32032 samples (2.00s)"}
{"timestamp": "2025-11-12T21:06:33.113343", "level": "DEBUG", "name": "DictatorService", "message": "\ud83d\udcca Buffer size: 48256 samples (3.02s)"}
{"timestamp": "2025-11-12T21:06:37.580290", "level": "INFO", "name": "DictatorService", "message": "\u23f9\ufe0f Recording stopped"}
{"timestamp": "2025-11-12T21:06:37.580548", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 VAD disabled: emitting manual SPEECH_STOPPED event"}
{"timestamp": "2025-11-12T21:06:37.580696", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce2 Publishing SPEECH_STOPPED event to 1 subscribers"}
{"timestamp": "2025-11-12T21:06:37.580949", "level": "INFO", "name": "DictatorService", "message": "\u2705 SPEECH_STOPPED event published to queue"}
{"timestamp": "2025-11-12T21:06:37.581034", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.SPEECH_STOPPED (total events: 1)"}
{"timestamp": "2025-11-12T21:06:37.581139", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Event-driven mode: Voice session will handle transcription via events"}
{"timestamp": "2025-11-12T21:06:37.581224", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.SPEECH_STOPPED"}
{"timestamp": "2025-11-12T21:06:37.581383", "level": "INFO", "name": "DictatorService", "message": "\ud83d\uded1 Speech ended, transcribing..."}
{"timestamp": "2025-11-12T21:06:37.581688", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Speech stopped - VAD mode: disabled, Buffer size: 119392 samples (7.46s)"}
{"timestamp": "2025-11-12T21:06:37.737987", "level": "INFO", "name": "faster_whisper", "message": "Processing audio with duration 00:07.462"}
{"timestamp": "2025-11-12T21:06:37.742280", "level": "DEBUG", "name": "faster_whisper", "message": "Processing segment at 00:00.000"}
{"timestamp": "2025-11-12T21:06:39.882701", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TRANSCRIPTION_STARTED (total events: 2)"}
{"timestamp": "2025-11-12T21:06:39.883157", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TRANSCRIPTION_STARTED"}
{"timestamp": "2025-11-12T21:06:39.883899", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TRANSCRIPTION_COMPLETED (total events: 3)"}
{"timestamp": "2025-11-12T21:06:39.883997", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TRANSCRIPTION_COMPLETED"}
{"timestamp": "2025-11-12T21:06:39.884154", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcdd Transcription complete, calling LLM..."}
{"timestamp": "2025-11-12T21:06:39.884336", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcdd Transcribed text: 'Bom, eu s\u00f3 desliguei o VAD, porque agora eu quero testar o Toggle e o Push Tock normal.'"}
{"timestamp": "2025-11-12T21:06:39.884453", "level": "INFO", "name": "DictatorService", "message": "\ud83e\udd99 Calling Ollama API (qwen3:14b)..."}
{"timestamp": "2025-11-12T21:06:39.884523", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd17 Calling Ollama: http://localhost:11434/api/chat"}
{"timestamp": "2025-11-12T21:06:39.884567", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce6 Payload: 2 messages, model=qwen3:14b"}
{"timestamp": "2025-11-12T21:06:42.804860", "level": "INFO", "name": "DictatorService", "message": "\u2705 Ollama response: 848 chars"}
{"timestamp": "2025-11-12T21:06:42.805347", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udfe2 Ollama returned: 848 chars"}
{"timestamp": "2025-11-12T21:06:42.805829", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcc4 Response text: <think>\nOkay, the user just said they turned off VAD to test Toggle and Push Tock normally. Let me make sure I understand.\n\nVAD is Voice Activity Detection, right? So turning it off would mean the sys..."}
{"timestamp": "2025-11-12T21:06:42.806062", "level": "INFO", "name": "DictatorService", "message": "\ud83e\uddf9 Cleaned response: Entendo, desligar o VAD pode afetar o funcionamento do Toggle e Push Tock. Posso ajudar a ajustar as..."}
{"timestamp": "2025-11-12T21:06:42.806362", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce2 Publishing TTS_SENTENCE_READY event..."}
{"timestamp": "2025-11-12T21:06:42.806538", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce2 Publishing LLM_RESPONSE_COMPLETED event"}
{"timestamp": "2025-11-12T21:06:42.806735", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.LLM_REQUEST (total events: 4)"}
{"timestamp": "2025-11-12T21:06:42.806979", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.LLM_REQUEST"}
{"timestamp": "2025-11-12T21:06:42.807225", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TTS_SENTENCE_READY (total events: 5)"}
{"timestamp": "2025-11-12T21:06:42.807348", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TTS_SENTENCE_READY"}
{"timestamp": "2025-11-12T21:06:42.807469", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd0a TTS sentence ready, synthesizing..."}
{"timestamp": "2025-11-12T21:06:42.807603", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfb5 TTS handler received: 'Entendo, desligar o VAD pode afetar o funcionamento do Toggle e Push Tock. Posso ajudar a ajustar as...'"}
{"timestamp": "2025-11-12T21:06:42.807761", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd0a Starting TTS synthesis..."}
{"timestamp": "2025-11-12T21:06:42.807956", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd0a Speaking: Entendo, desligar o VAD pode afetar o funcionament..."}
{"timestamp": "2025-11-12T21:06:42.808158", "level": "INFO", "name": "KokoroTTS", "message": "\ud83d\udd0a Speaking: Entendo, desligar o VAD pode afetar o funcionament..."}
{"timestamp": "2025-11-12T21:06:43.736016", "level": "INFO", "name": "KokoroTTS", "message": "\u26a1 Audio generated in 0.93s"}
{"timestamp": "2025-11-12T21:06:47.948290", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcbe Configuration saved"}
{"timestamp": "2025-11-12T21:06:47.949041", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:47.967248", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:47.968128", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:47.982679", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:47.983694", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:47.998409", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:47.999321", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.013749", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:48.014595", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.029499", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:48.030089", "level": "INFO", "name": "DictatorService", "message": "Mode: push_to_talk"}
{"timestamp": "2025-11-12T21:06:48.030716", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.045102", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:48.046155", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.060735", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:48.061587", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.075822", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:48.076547", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.091303", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:48.092074", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "Starting new HTTP connection (1): localhost:11434"}
{"timestamp": "2025-11-12T21:06:48.107705", "level": "DEBUG", "name": "urllib3.connectionpool", "message": "http://localhost:11434 \"GET /api/tags HTTP/1.1\" 200 1041"}
{"timestamp": "2025-11-12T21:06:50.982297", "level": "INFO", "name": "KokoroTTS", "message": "\u2705 Speech completed"}
{"timestamp": "2025-11-12T21:06:50.982703", "level": "INFO", "name": "DictatorService", "message": "\u2705 TTS synthesis completed"}
{"timestamp": "2025-11-12T21:06:50.983075", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 VAD re-enabled after TTS"}
{"timestamp": "2025-11-12T21:06:50.983169", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.LLM_RESPONSE_COMPLETED (total events: 6)"}
{"timestamp": "2025-11-12T21:06:50.983325", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.LLM_RESPONSE_COMPLETED"}
{"timestamp": "2025-11-12T21:06:50.983513", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TTS_AUDIO_GENERATED (total events: 7)"}
{"timestamp": "2025-11-12T21:06:50.983593", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TTS_AUDIO_GENERATED"}
{"timestamp": "2025-11-12T21:06:53.883504", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd34 Recording started..."}
{"timestamp": "2025-11-12T21:06:53.883908", "level": "INFO", "name": "DictatorService", "message": "\ud83e\uddf9 Cleared audio buffer"}
{"timestamp": "2025-11-12T21:06:53.948974", "level": "DEBUG", "name": "DictatorService", "message": "\ud83c\udfb5 Voice session started receiving audio chunks"}
{"timestamp": "2025-11-12T21:06:54.939078", "level": "DEBUG", "name": "DictatorService", "message": "\ud83d\udcca Buffer size: 16224 samples (1.01s)"}
{"timestamp": "2025-11-12T21:06:54.969004", "level": "INFO", "name": "DictatorService", "message": "\u2705 Voice session healthy, processing audio"}
{"timestamp": "2025-11-12T21:06:55.695003", "level": "INFO", "name": "DictatorService.ThreadMonitor", "message": "Thread snapshot: total=48, top=[{'id': 30432, 'name': 'MainThread', 'cpu_ms': 14609.38}, {'id': 34648, 'name': 'unknown', 'cpu_ms': 2125.0}, {'id': 27276, 'name': 'asyncio_0', 'cpu_ms': 1031.25}, {'id': 2668, 'name': 'unknown', 'cpu_ms': 765.62}, {'id': 23696, 'name': 'unknown', 'cpu_ms': 765.62}]"}
{"timestamp": "2025-11-12T21:06:55.929033", "level": "DEBUG", "name": "DictatorService", "message": "\ud83d\udcca Buffer size: 32032 samples (2.00s)"}
{"timestamp": "2025-11-12T21:06:56.939163", "level": "DEBUG", "name": "DictatorService", "message": "\ud83d\udcca Buffer size: 48256 samples (3.02s)"}
{"timestamp": "2025-11-12T21:07:01.476933", "level": "INFO", "name": "DictatorService", "message": "\u23f9\ufe0f Recording stopped"}
{"timestamp": "2025-11-12T21:07:01.477293", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 VAD disabled: emitting manual SPEECH_STOPPED event"}
{"timestamp": "2025-11-12T21:07:01.477829", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce2 Publishing SPEECH_STOPPED event to 1 subscribers"}
{"timestamp": "2025-11-12T21:07:01.477996", "level": "INFO", "name": "DictatorService", "message": "\u2705 SPEECH_STOPPED event published to queue"}
{"timestamp": "2025-11-12T21:07:01.478054", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.SPEECH_STOPPED (total events: 8)"}
{"timestamp": "2025-11-12T21:07:01.478187", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Event-driven mode: Voice session will handle transcription via events"}
{"timestamp": "2025-11-12T21:07:01.478274", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.SPEECH_STOPPED"}
{"timestamp": "2025-11-12T21:07:01.478430", "level": "INFO", "name": "DictatorService", "message": "\ud83d\uded1 Speech ended, transcribing..."}
{"timestamp": "2025-11-12T21:07:01.478772", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Speech stopped - VAD mode: disabled, Buffer size: 120640 samples (7.54s)"}
{"timestamp": "2025-11-12T21:07:01.549150", "level": "INFO", "name": "faster_whisper", "message": "Processing audio with duration 00:07.540"}
{"timestamp": "2025-11-12T21:07:01.553033", "level": "DEBUG", "name": "faster_whisper", "message": "Processing segment at 00:00.000"}
{"timestamp": "2025-11-12T21:07:04.695391", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TRANSCRIPTION_STARTED (total events: 9)"}
{"timestamp": "2025-11-12T21:07:04.695625", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TRANSCRIPTION_STARTED"}
{"timestamp": "2025-11-12T21:07:04.695837", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TRANSCRIPTION_COMPLETED (total events: 10)"}
{"timestamp": "2025-11-12T21:07:04.695985", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TRANSCRIPTION_COMPLETED"}
{"timestamp": "2025-11-12T21:07:04.696112", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcdd Transcription complete, calling LLM..."}
{"timestamp": "2025-11-12T21:07:04.696189", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcdd Transcribed text: 'N\u00e3o, n\u00e3o precisa ajudar nada agora Agora eu estou testando o Push Talk Ent\u00e3o na teoria, quando eu largar o bot\u00e3ozinho aqui Ele deveria parar de salvar'"}
{"timestamp": "2025-11-12T21:07:04.696314", "level": "INFO", "name": "DictatorService", "message": "\ud83e\udd99 Calling Ollama API (qwen3:14b)..."}
{"timestamp": "2025-11-12T21:07:04.696429", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd17 Calling Ollama: http://localhost:11434/api/chat"}
{"timestamp": "2025-11-12T21:07:04.696529", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce6 Payload: 4 messages, model=qwen3:14b"}
{"timestamp": "2025-11-12T21:07:06.732169", "level": "INFO", "name": "DictatorService", "message": "\u2705 Ollama response: 623 chars"}
{"timestamp": "2025-11-12T21:07:06.732747", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udfe2 Ollama returned: 623 chars"}
{"timestamp": "2025-11-12T21:07:06.733025", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcc4 Response text: <think>\nOkay, the user is testing the Push Talk feature and wants to know if releasing the button should stop recording. Let me confirm the expected behavior.\n\nPush Talk usually starts recording when ..."}
{"timestamp": "2025-11-12T21:07:06.733173", "level": "INFO", "name": "DictatorService", "message": "\ud83e\uddf9 Cleaned response: Sim, soltar o bot\u00e3o deve parar a grava\u00e7\u00e3o. Se n\u00e3o funcionar, verifique se o Push Talk est\u00e1 ativado n..."}
{"timestamp": "2025-11-12T21:07:06.733391", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce2 Publishing TTS_SENTENCE_READY event..."}
{"timestamp": "2025-11-12T21:07:06.733526", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce2 Publishing LLM_RESPONSE_COMPLETED event"}
{"timestamp": "2025-11-12T21:07:06.733621", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.LLM_REQUEST (total events: 11)"}
{"timestamp": "2025-11-12T21:07:06.733778", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.LLM_REQUEST"}
{"timestamp": "2025-11-12T21:07:06.733954", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TTS_SENTENCE_READY (total events: 12)"}
{"timestamp": "2025-11-12T21:07:06.734106", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TTS_SENTENCE_READY"}
{"timestamp": "2025-11-12T21:07:06.734216", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd0a TTS sentence ready, synthesizing..."}
{"timestamp": "2025-11-12T21:07:06.734349", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfb5 TTS handler received: 'Sim, soltar o bot\u00e3o deve parar a grava\u00e7\u00e3o. Se n\u00e3o funcionar, verifique se o Push Talk est\u00e1 ativado n...'"}
{"timestamp": "2025-11-12T21:07:06.734640", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd0a Starting TTS synthesis..."}
{"timestamp": "2025-11-12T21:07:06.734788", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd0a Speaking: Sim, soltar o bot\u00e3o deve parar a grava\u00e7\u00e3o. Se n\u00e3o ..."}
{"timestamp": "2025-11-12T21:07:06.734988", "level": "INFO", "name": "KokoroTTS", "message": "\ud83d\udd0a Speaking: Sim, soltar o bot\u00e3o deve parar a grava\u00e7\u00e3o. Se n\u00e3o ..."}
{"timestamp": "2025-11-12T21:07:07.507928", "level": "INFO", "name": "KokoroTTS", "message": "\u26a1 Audio generated in 0.77s"}
{"timestamp": "2025-11-12T21:07:13.683344", "level": "INFO", "name": "KokoroTTS", "message": "\u2705 Speech completed"}
{"timestamp": "2025-11-12T21:07:13.683754", "level": "INFO", "name": "DictatorService", "message": "\u2705 TTS synthesis completed"}
{"timestamp": "2025-11-12T21:07:13.684363", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfa4 VAD re-enabled after TTS"}
{"timestamp": "2025-11-12T21:07:13.684479", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.LLM_RESPONSE_COMPLETED (total events: 13)"}
{"timestamp": "2025-11-12T21:07:13.684550", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.LLM_RESPONSE_COMPLETED"}
{"timestamp": "2025-11-12T21:07:13.684726", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udce8 Event received: EventType.TTS_AUDIO_GENERATED (total events: 14)"}
{"timestamp": "2025-11-12T21:07:13.684830", "level": "INFO", "name": "DictatorService", "message": "\ud83c\udfaf Handling event: EventType.TTS_AUDIO_GENERATED"}
{"timestamp": "2025-11-12T21:07:22.864165", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udcbe Configuration saved"}
{"timestamp": "2025-11-12T21:07:22.864905", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd04 LLM Provider changed to: claude-cli"}
{"timestamp": "2025-11-12T21:07:22.865171", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd04 Restarting service to apply provider changes..."}
{"timestamp": "2025-11-12T21:07:22.865311", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udd04 Restarting service..."}
{"timestamp": "2025-11-12T21:07:22.865463", "level": "INFO", "name": "DictatorService", "message": "\ud83d\uded1 Dictator Service stopping..."}
{"timestamp": "2025-11-12T21:07:22.865803", "level": "INFO", "name": "DictatorService", "message": "Voice session stopped"}
{"timestamp": "2025-11-12T21:07:22.866048", "level": "INFO", "name": "DictatorService", "message": "Voice session completed normally"}
{"timestamp": "2025-11-12T21:07:22.866465", "level": "INFO", "name": "DictatorService", "message": "\ud83d\udc4b Dictator Service stopped"}
